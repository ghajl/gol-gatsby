{"version":3,"sources":["webpack:///./src/components/layout.jsx","webpack:///./src/components/Header.jsx","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/Footer.jsx","webpack:///./src/game/Game.js","webpack:///./src/util/helpers.js","webpack:///./src/withRoot.jsx","webpack:///./src/game/Cell.js","webpack:///./src/game/Life.js","webpack:///./src/components/ToggleIcon.js","webpack:///./src/getPageContext.js","webpack:///./src/game/Canvas.js","webpack:///./src/util/colors.js","webpack:///./.cache/gatsby-browser-entry.js"],"names":["_react","__webpack_require__","_propTypes","_interopRequireDefault","_reactHelmet","_styles","_Header","_Footer","s","e","__esModule","default","c","Symbol","iterator","constructor","prototype","f","t","n","length","r","enumerable","configurable","writable","Object","defineProperty","key","h","setPrototypeOf","getPrototypeOf","__proto__","d","p","ReferenceError","v","value","Layout","charset","http-equiv","content","name","rel","type","href","a","TypeError","create","PureComponent","_this$props","this","props","classes","children","createElement","className","root","title","meta","link","links","lang","navbar","propTypes","PropTypes","shape","node","isRequired","defaultProps","withStyles","@global","html","height","fontSize","body","background","fontFamily","fallbacks","margin","display","flex-direction","& > div:first-child","flex","& > div","&:first-child","textDecoration","outline","flexDirection","width","overflow","boxShadow","position","top","zIndex","backgroundColor","_gatsby","_colors","u","styles","nav","justifyContent","& a","color","HEADER_LINK_INACTIVE","padding","transition","fontWeight","text-transform","@media (min-width: 768px)","@media (min-width: 480px)","author","TITLE_AUTHOR","game","TITLE_GAME","alignItems","paddingRight","&:hover","HEADER_LINK_ACTIVE","small","large","active","Header","Link","to","activeStyle","m","module","exports","_pageRenderer","_loader","l","ProdPageRenderer","_ref","location","pageResources","loader","getResourcesForPathname","pathname","React","InternalPageRenderer","string","borderBottom","concat","FOOTER_BOTTOM","FOOTER_TOP","iconsContainer","left","transform","iconContainer","textAlign","& *","boxSizing","icon","borderRadius","border","borderColor","FOOTER_LINK","fill","FOOTER_LINK_ICON_ACTIVE","FOOTER_LINK_ACTIVE","Footer","target","_Life","_Canvas","_helpers","o","Game","squareSize","initialState","cells","radius","getRandomPattern","life","Life","cellmap","getCellmap","cellCount","canvas","reload","drawBoard","ratio","Canvas","init","redrawList","nextGeneration","redrawWorld","coordinates","getClickCoordinates","drawCell","Y","X","index","patternsList","pattern","shiftPatternToCenter","setPattern","handleWindowSizeChange","getLiveCells","clearWorld","_this","forEach","cell","getState","drawDeadCell","drawLiveCell","boardHeight","boardWidth","patternSize","reduce","acc","val","ind","minX","maxX","minY","maxY","center","Math","floor","trans","map","x","vertShift","horShift","len","min","max","random","arr","Array","from","isArray","toString","call","Set","crd","split","k","_CssBaseline","_JssProvider","_getPageContext","Component","_React$Component","WithRoot","_possibleConstructorReturn","_getPrototypeOf","muiPageContext","jssStyles","document","querySelector","parentNode","removeChild","generateClassName","MuiThemeProvider","theme","sheetsManager","186","Cell","state","count","neighbors","neighborsCoordinates","neighbor","updateNeighborsCount","_Cell","i","next","done","push","return","gridWidth","gridHeight","changeList","createCellmap","makeNeighbors","liveCells","filter","indexOf","y","changeState","totalCheck","checkList","applyChanges","makeChangeList","nextState","-1","1","j","setNeighborsCoordinates","setNeighbors","_coordinates$split$ma2","_slicedToArray","_cell","getNeighborsCoordinates","keys","re","exec","lastIndex","neighborsCount","getNeighborsCount","tX","tY","on","onIcon","offIcon","Fragment","process","browser","global","__INIT_MATERIAL_UI__","createPageContext","_jss","createMuiTheme","palette","Map","sheetsRegistry","SheetsRegistry","createGenerateClassName","console","log","style","offsetWidth","context","getContext","scale","drawGrid","ctx","copyCanvas","originalCellImage","getImageData","rect","getBoundingClientRect","cnvLeft","cnvRight","right","cnvTop","cnvBottom","bottom","currentSquareSize","round","getCursorPos","nearestX","nearestY","pow","putImageData","beginPath","arc","PI","fillStyle","LIVE_CELL","closePath","strokeStyle","GRID","w","lineWidth","moveTo","lineTo","stroke","draw_circle","original","copy","cloneNode","drawImage","save","EMPTY_CELL","restore","clientX","clientY","BUTTON","GENERATION","BOARD","99","graphql","Error","get","withPrefix","navigate","replace","navigateTo","waitForRouteChange","StaticQuery","StaticQueryContext","_gatsbyLink","_waitForRouteChange","_publicPageRenderer","_parsePath","createContext","Consumer","staticQueryData","data","query","render","object","func"],"mappings":"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","file":"2-dd76d65689b2a118c785.js","sourcesContent":["import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Helmet from 'react-helmet';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\n\r\nconst styles = {\r\n  '@global': {\r\n    html: {\r\n      height: '100%',\r\n      fontSize: '14px',\r\n    },\r\n    body: {\r\n      background: 'white',\r\n      fontFamily: 'Century Gothic',\r\n      fallbacks: {\r\n        fontFamily: 'sans-serif',\r\n      },\r\n      margin: 0,\r\n      display: 'flex',\r\n      'flex-direction': 'column',\r\n      height: '100%',\r\n      '& > div:first-child': {\r\n        height: '100%',\r\n        flex: '1 0 auto',\r\n        '& > div': {\r\n          '&:first-child': {\r\n            height: '100%',\r\n          },\r\n        },\r\n      },\r\n    },\r\n    a: {\r\n      textDecoration: 'none !important',\r\n      outline: 'none',\r\n    },\r\n  },\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    height: '100%',\r\n  },\r\n  content: {\r\n    flex: '1 0 auto',\r\n    width: '100%',\r\n  },\r\n  navbar: {\r\n    overflow: 'hidden',\r\n    boxShadow: '0 3px 15px -6px #222',\r\n    position: 'fixed',\r\n    top: 0,\r\n    width: '100%',\r\n    zIndex: 3,\r\n    backgroundColor: '#fff',\r\n  },\r\n};\r\n\r\nclass Layout extends PureComponent {\r\n  meta = [\r\n    {\r\n      charset: 'utf-8',\r\n    },\r\n    {\r\n      'http-equiv': 'X-UA-Compatible',\r\n      content: 'IE=edge',\r\n    },\r\n    {\r\n      name: 'viewport',\r\n      content: 'user-scalable=0, initial-scale=1, minimum-scale=1, width=device-width, height=device-height',\r\n    },\r\n  ];\r\n\r\n  links = [\r\n    {\r\n      rel: 'shortcut icon',\r\n      type: 'image/x-icon',\r\n      href: '/public/icons/favicon.ico',\r\n    },\r\n    {\r\n      rel: 'stylesheet',\r\n      href: 'https://fonts.googleapis.com/css?family=Roboto:300,400,500|Open+Sans|Julius+Sans+One',\r\n    },\r\n  ];\r\n\r\n  title = 'John Conway\\'s Game Of Life';\r\n\r\n  render() {\r\n    const { classes, children } = this.props;\r\n    return (\r\n      <div className={classes.root}>\r\n        <Helmet\r\n          title={this.title}\r\n          meta={this.meta}\r\n          link={this.links}\r\n        >\r\n          <html lang=\"en\" />\r\n        </Helmet>\r\n        <div className={classes.navbar}>\r\n          <Header />\r\n        </div>\r\n        <div className={classes.content}>\r\n          {children}\r\n        </div>\r\n\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nLayout.propTypes = {\r\n  classes: PropTypes.shape({}),\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nLayout.defaultProps = {\r\n  classes: {},\r\n};\r\n\r\nexport default withStyles(styles)(Layout);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'gatsby';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport color from '../util/colors';\r\n\r\nconst styles = {\r\n  nav: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    '& a': {\r\n      color: color.HEADER_LINK_INACTIVE,\r\n      display: 'block',\r\n      padding: '1em',\r\n      transition: '.2s',\r\n      fontFamily: 'Julius Sans One',\r\n      fallbacks: {\r\n        fontFamily: 'sans-serif',\r\n      },\r\n    },\r\n  },\r\n  title: {\r\n    fontWeight: 900,\r\n    'text-transform': 'none',\r\n    fontSize: '1.1em',\r\n    '@media (min-width: 768px)': {\r\n      fontSize: '1.5em',\r\n    },\r\n    '@media (min-width: 480px)': {\r\n      'text-transform': 'uppercase',\r\n    },\r\n  },\r\n  author: {\r\n    color: color.TITLE_AUTHOR,\r\n  },\r\n  game: {\r\n    color: color.TITLE_GAME,\r\n  },\r\n  links: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingRight: '20px',\r\n    fontWeight: 900,\r\n    '& a': {\r\n      '&:hover': {\r\n        color: color.HEADER_LINK_ACTIVE,\r\n      },\r\n    },\r\n    fontSize: '.9em',\r\n    '@media (min-width: 768px)': {\r\n      fontSize: '1.2em',\r\n    },\r\n  },\r\n  small: {\r\n    display: 'block',\r\n    '@media (min-width: 480px)': {\r\n      display: 'none',\r\n    },\r\n  },\r\n  large: {\r\n    display: 'none',\r\n    '@media (min-width: 480px)': {\r\n      display: 'block',\r\n    },\r\n  },\r\n  active: {\r\n    color: color.HEADER_LINK_ACTIVE,\r\n  },\r\n};\r\n\r\nconst Header = (props) => {\r\n  const { classes } = props;\r\n\r\n  return (\r\n    <div className={classes.nav}>\r\n      <Link\r\n        className={classes.title}\r\n        to=\"/\"\r\n        activeStyle={{\r\n          color: color.HEADER_LINK_ACTIVE,\r\n        }}\r\n      >\r\n        <div className={classes.small}>\r\n          <span className={classes.game}>\r\n            {'GoL'}\r\n          </span>\r\n        </div>\r\n        <div className={classes.large}>\r\n          <span className={classes.author}>\r\n            {'John Conway`s'}\r\n          </span>\r\n          <span className={classes.game}>\r\n            {'Game of Life'}\r\n          </span>\r\n        </div>\r\n      </Link>\r\n      <div className={classes.links}>\r\n        <Link\r\n          to=\"/about\"\r\n          activeStyle={{\r\n            color: color.HEADER_LINK_ACTIVE,\r\n          }}\r\n        >\r\n          {'About'}\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles)(Header);\r\n\r\nHeader.propTypes = {\r\n  classes: PropTypes.shape({}).isRequired,\r\n};\r\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathname(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport color from '../util/colors';\r\n\r\nconst styles = {\r\n  root: {\r\n    borderBottom: `10px solid ${color.FOOTER_BOTTOM}`,\r\n    backgroundColor: `${color.FOOTER_TOP}`,\r\n  },\r\n  iconsContainer: {\r\n    position: 'relative',\r\n    display: 'inline-block',\r\n    left: '50%',\r\n    transform: 'translateX(-50%)',\r\n  },\r\n  iconContainer: {\r\n    display: 'inline-block',\r\n    textAlign: 'center',\r\n    padding: '3px 20px',\r\n    '& *': {\r\n      boxSizing: 'content-box',\r\n    },\r\n  },\r\n  a: {\r\n    margin: '0 20px',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  icon: {\r\n    transition: '.4s',\r\n    borderRadius: '50%',\r\n    border: '1px solid',\r\n    borderColor: `${color.FOOTER_LINK}`,\r\n    padding: 5,\r\n    margin: '.5em',\r\n    width: 24,\r\n    height: 24,\r\n    fill: `${color.FOOTER_LINK}`,\r\n    '&:hover': {\r\n      fill: `${color.FOOTER_LINK_ICON_ACTIVE}`,\r\n      backgroundColor: `${color.FOOTER_LINK_ACTIVE}`,\r\n      borderColor: `${color.FOOTER_LINK_ACTIVE}`,\r\n    },\r\n  },\r\n};\r\n\r\nconst Footer = ({ classes }) => (\r\n  <div className={classes.root}>\r\n    <div className={classes.iconsContainer}>\r\n      <div className={classes.iconContainer}>\r\n        <a className={classes.a} href=\"https://github.com/ghajl/golife\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n          <svg className={classes.icon}>\r\n            <path d=\"M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z\" />\r\n          </svg>\r\n        </a>\r\n      </div>\r\n      <div className={classes.iconContainer}>\r\n        <a className={classes.a} href=\"mailto:michaelmsky@gmail.com?subject=Mail from GOL\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n          <svg className={classes.icon}>\r\n            <path d=\"M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z\" />\r\n          </svg>\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nFooter.propTypes = {\r\n  classes: PropTypes.shape({}).isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Footer);\r\n","/* eslint-disable */\r\nimport Cell from './Cell';\r\nimport Life from './Life';\r\nimport Canvas from './Canvas';\r\nimport color from '../util/colors';\r\nimport {makeUnique, shiftPatternToCenter, getRandomPattern} from '../util/helpers';\r\n\r\nclass Game {\r\n  constructor(width, height, squareSize, initialState) {\r\n    this.width = width;\r\n    this.height = height;\r\n    this.squareSize = squareSize;\r\n    this.radius = this.squareSize / 2;\r\n    let cells;\r\n    if (initialState != null) {\r\n      cells = initialState;\r\n    } else {\r\n      cells = getRandomPattern(height, width);\r\n    }\r\n    this.life = new Life(this.width, this.height, cells);\r\n    this.cellmap = this.life.getCellmap();\r\n    this.cellCount = 0;\r\n  }\r\n\r\n  reload(width, height, squareSize, canvas){\r\n    this.width = width;\r\n    this.height = height;\r\n    this.cellCount = 0;\r\n    this.squareSize = squareSize;\r\n    this.radius = this.squareSize / 2;\r\n    this.life.reload(width, height);\r\n    this.cellmap = this.life.getCellmap();\r\n    this.drawBoard(canvas);\r\n  }\r\n\r\n  drawBoard(canvas, ratio)\r\n  {\r\n    if (ratio != null) {\r\n      this.ratio = ratio;\r\n    }\r\n    this.canvas = new Canvas(canvas, this.width, this.height, this.squareSize, this.ratio);\r\n    this.canvas.init();\r\n    const redrawList = this.life.nextGeneration();\r\n    this.redrawWorld(redrawList);\r\n    return this.cellCount;\r\n  }\r\n\r\n  drawCell(e){\r\n    const coordinates = this.canvas.getClickCoordinates(e);\r\n    if (coordinates !== null) {\r\n      const redrawList = this.life.drawCell(coordinates.Y, coordinates.X);\r\n      this.redrawWorld(redrawList);\r\n    }\r\n    return this.cellCount;\r\n  }\r\n\r\n  setPattern(index, patternsList){\r\n    let pattern;\r\n    if(patternsList[index].pattern) {\r\n      pattern = shiftPatternToCenter(patternsList[index].pattern, this.height, this.width);\r\n    } else {\r\n      pattern = getRandomPattern(this.height, this.width);\r\n    }\r\n    const redrawList = this.life.setPattern(pattern);\r\n    this.redrawWorld(redrawList);\r\n    return this.cellCount;\r\n  }\r\n\r\n  handleWindowSizeChange(){\r\n    this.canvas.handleWindowSizeChange();\r\n  };\r\n\r\n  getLiveCells(){\r\n    return this.life.getLiveCells();\r\n  }\r\n\r\n  getCellCount(){\r\n    return this.cellCount;\r\n  }\r\n\r\n  clear() {\r\n    const redrawList = this.life.clearWorld();\r\n    this.redrawWorld(redrawList);\r\n    return this.cellCount;\r\n  }\r\n\r\n  update(){\r\n    const redrawList = this.life.nextGeneration();\r\n    this.redrawWorld(redrawList);\r\n    return this.cellCount;\r\n  }\r\n\r\n  redrawWorld(redrawList){\r\n    redrawList.forEach(cell => {\r\n      const X = (cell[1] + 1) * this.squareSize;\r\n      const Y = (cell[0] + 1) * this.squareSize;\r\n      if(this.cellmap[cell[0]][cell[1]].getState() === -1){\r\n        this.cellCount--;\r\n        this.canvas.drawDeadCell(X, Y);\r\n      } else {\r\n        this.cellCount++;\r\n        this.canvas.drawLiveCell(X, Y);\r\n      }            \r\n    })  \r\n  }\r\n}\r\n\r\nexport default Game;\r\n","/* eslint-disable */\r\nexport function shiftPatternToCenter(pattern,boardHeight,boardWidth){\r\n  const patternSize = getPatternSize(pattern)\r\n  const center = [Math.floor((boardHeight - 1) / 2), Math.floor((boardWidth - 1) / 2)]\r\n  const trans = [Math.floor((patternSize.maxY - patternSize.minY) / 2), Math.floor((patternSize.maxX - patternSize.minX) / 2)]\r\n  const result = pattern.map(cell => {\r\n    const y = cell[0] + center[0] - trans[0]\r\n    const x = cell[1] + center[1] - trans[1]\r\n    return [y,x];\r\n  });\r\n\r\n  return result;\r\n}\r\n\r\nexport function shiftPattern(pattern,vertShift,horShift){\r\n  return pattern.map(cell => {\r\n    const y = cell[0] + vertShift;\r\n    const x = cell[1] + horShift;\r\n    return [y,x];\r\n  });\r\n}\r\n\r\nexport function getRandomPattern(height,width){\r\n  const min = Math.floor(Math.max(2, height*width*.05));\r\n  const max = Math.floor(Math.max(2, height*width*.2));\r\n  const len = getRandomInt(min, max);\r\n  const arr =  Array.from({length: len}, () => `${Math.floor(Math.random() * height)},${Math.floor(Math.random() * width)}`);\r\n  return [...new Set(arr)].map(crd => crd.split(',').map(k => +k));\r\n}\r\n\r\nfunction getRandomInt(min, max) {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nfunction getPatternSize(pattern){\r\n  return pattern.reduce((acc, val, ind) => {\r\n    if(ind === 0){\r\n      acc.minX = acc.maxX = val[1]\r\n      acc.minY = acc.maxY = val[0]\r\n    } else {\r\n      acc.minX = val[1] < acc.minX ? val[1] : acc.minX\r\n      acc.maxX = val[1] > acc.maxX ? val[1] : acc.maxX\r\n      acc.minY = val[0] < acc.minY ? val[0] : acc.minY\r\n      acc.maxY = val[0] > acc.maxY ? val[0] : acc.maxY\r\n    }\r\n    return acc\r\n  }, {})\r\n}","import React from 'react';\r\nimport { MuiThemeProvider } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport JssProvider from 'react-jss/lib/JssProvider';\r\nimport getPageContext from './getPageContext';\r\n\r\nfunction withRoot(Component) {\r\n  class WithRoot extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.muiPageContext = getPageContext();\r\n    }\r\n\r\n    componentDidMount() {\r\n      // Remove the server-side injected CSS.\r\n      const jssStyles = document.querySelector('#server-side-jss');\r\n      if (jssStyles && jssStyles.parentNode) {\r\n        jssStyles.parentNode.removeChild(jssStyles);\r\n      }\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <JssProvider generateClassName={this.muiPageContext.generateClassName}>\r\n          {/* MuiThemeProvider makes the theme available down the React\r\n              tree thanks to React context. */}\r\n          <MuiThemeProvider\r\n            theme={this.muiPageContext.theme}\r\n            sheetsManager={this.muiPageContext.sheetsManager}\r\n          >\r\n            {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\r\n            <CssBaseline />\r\n            <Component {...this.props} />\r\n          </MuiThemeProvider>\r\n        </JssProvider>\r\n      );\r\n    }\r\n  }\r\n\r\n  return WithRoot;\r\n}\r\n\r\nexport default withRoot;\r\n","/* eslint-disable */\r\nexport default class Cell {\r\n  constructor()\r\n  {  \r\n    this.state = -1;\r\n    this.count = 0;\r\n    this.neighbors = null;\r\n    this.neighborsCoordinates = null;\r\n  }\r\n\r\n  changeState() {\r\n    this.state *= -1;\r\n    this.neighbors.forEach(neighbor => {\r\n      neighbor.updateNeighborsCount(this.state);\r\n    })\r\n  }\r\n  \r\n  updateNeighborsCount(value) {\r\n    this.count += value;\r\n  }\r\n  \r\n  getState(){\r\n    return this.state;\r\n  }\r\n\r\n  setNeighbors(neighbors) {\r\n    this.neighbors = neighbors;\r\n  }\r\n\r\n  setNeighborsCoordinates(coordinates) {\r\n    this.neighborsCoordinates = coordinates;\r\n  }\r\n\r\n  getNeighborsCount() {\r\n    return this.count;\r\n  }\r\n\r\n  getNeighborsCoordinates() {\r\n    return this.neighborsCoordinates;\r\n  }\r\n}\r\n","/* eslint-disable */\r\nimport { makeUnique, shiftPatternToCenter, getRandomPattern } from '../util/helpers';\r\nimport Cell from './Cell';\r\n\r\nclass Life {\r\n  constructor(width, height, initialState) {\r\n    this.gridWidth = width;\r\n    this.gridHeight = height;\r\n    this.changeList = initialState;\r\n    this.cellmap = createCellmap(this.gridWidth, this.gridHeight, makeNeighbors);\r\n  }\r\n\r\n  reload(width, height) {\r\n    this.changeList = [];\r\n    this.gridWidth = width;\r\n    this.gridHeight = height; \r\n    this.cellmap = createCellmap(this.gridWidth, this.gridHeight, makeNeighbors);\r\n  }\r\n\r\n  setPattern(pattern) {\r\n    const liveCells = getLiveCells(this.cellmap);\r\n    if (liveCells.length === 0) {\r\n      this.changeList = pattern;\r\n    } else {\r\n      this.changeList = liveCells.filter(cell => pattern.indexOf(cell) === -1)\r\n        .concat(pattern.filter(cell => liveCells.indexOf(cell) === -1));\r\n    }\r\n    return this.nextGeneration();\r\n  }\r\n\r\n  drawCell(y, x) {\r\n    this.cellmap[y][x].changeState();\r\n    this.changeList = totalCheck(this.cellmap);\r\n    return [[y, x]];\r\n  }\r\n\r\n  clearWorld() {\r\n    this.changeList = getLiveCells(this.cellmap);\r\n    return this.nextGeneration();\r\n  }\r\n\r\n  nextGeneration(){\r\n    const redrawList = this.changeList;\r\n    const checkList = applyChanges(this.changeList, this.cellmap, this.gridWidth, this.gridHeight);\r\n    this.changeList = makeChangeList(checkList, this.cellmap);\r\n    return redrawList;\r\n  }\r\n\r\n  getLiveCells() {\r\n    return getLiveCells(this.cellmap);\r\n  }\r\n\r\n  getCellmap() {\r\n    return this.cellmap;\r\n  }\r\n    \r\n}\r\n\r\nexport default Life;\r\n\r\nconst nextState = {\r\n  '-1': [-1, -1, -1, 1, -1, -1, -1, -1, -1],\r\n  '1': [-1, -1, 1, 1, -1, -1, -1, -1, -1],\r\n}\r\n\r\nexport function createCellmap(width, height, makeNeighbors) {\r\n  const cellmap = Array(height).fill(null);\r\n  for (let i = 0; i < height; i++) {\r\n    cellmap[i] = Array(width).fill(null);\r\n    for (let j = 0; j < width; j++) {\r\n      cellmap[i][j] = new Cell();\r\n    }\r\n  }\r\n  for (let i = 0; i < height; i++) {\r\n    for (let j = 0; j < width; j++) {\r\n      const neighborsCoordinates = makeNeighbors(width, height, i, j);\r\n      cellmap[i][j].setNeighborsCoordinates(neighborsCoordinates);\r\n      cellmap[i][j].setNeighbors(neighborsCoordinates.map(coordinates => {\r\n        const [y, x] = coordinates.split(',').map(k => +k);\r\n        return cellmap[y][x];\r\n      }));\r\n    }\r\n  }\r\n  return cellmap;  \r\n}\r\n\r\nexport function applyChanges(changeList, cellmap, width, height) {\r\n  const checkList = {};\r\n  changeList.forEach(cell => {\r\n    const [y, x] = cell;\r\n    cellmap[y][x].changeState();\r\n    if (typeof checkList[`${y},${x}`] === 'undefined') {\r\n      checkList[`${y},${x}`] = 1;\r\n    }\r\n    const neighbors = cellmap[y][x].getNeighborsCoordinates();\r\n    neighbors.forEach(neighbor => {\r\n      if (typeof checkList[neighbor] === 'undefined') {\r\n        checkList[neighbor] = 1;\r\n      }\r\n    })\r\n  })  \r\n  return Object.keys(checkList);\r\n}\r\n\r\nexport function makeChangeList(checkList, cellmap) {\r\n  const changeList = [];\r\n  const re = /\\d+/g;\r\n  checkList.forEach(cell => {\r\n    const y = +re.exec(cell)[0];\r\n    const x = +re.exec(cell)[0];\r\n    re.lastIndex = 0;\r\n    const state = cellmap[y][x].getState();\r\n    const neighborsCount = cellmap[y][x].getNeighborsCount();\r\n    if(nextState[state][neighborsCount] !== state) {\r\n      changeList.push([y, x]);\r\n    }\r\n  })\r\n  return changeList;\r\n}\r\n\r\nexport function totalCheck(cellmap) {\r\n  const changeList = [];\r\n  for (let i = 0; i < cellmap.length; i++) {\r\n    for (let j = 0; j < cellmap[i].length; j++) {\r\n      const state = cellmap[i][j].getState();\r\n      const neighborsCount = cellmap[i][j].getNeighborsCount();\r\n      if(nextState[state][neighborsCount] !== state) {\r\n        changeList.push([i, j]);\r\n      }\r\n    }\r\n  }  \r\n  return changeList;\r\n}\r\n\r\nexport function makeNeighbors(width, height, Y, X){\r\n  const cells = {};\r\n  for (let i = -1; i < 2; i++) {\r\n    for (let j = -1; j < 2; j++) {\r\n      let tX = X + j, tY = Y + i;\r\n      if (tY < 0) {\r\n        tY = height - 1;\r\n      } else if (tY >= height) {\r\n        tY = 0;\r\n      }\r\n      if (tX < 0) {\r\n        tX = width - 1;\r\n      } else if (tX >= width) {\r\n        tX = 0;\r\n      }\r\n      if (!(i === 0 && j === 0)) {\r\n        cells[`${tY},${tX}`] = 1;\r\n      }                    \r\n    }\r\n  }\r\n  return Object.keys(cells);\r\n}\r\n\r\nexport function getLiveCells(cellmap) {\r\n  const cells = [];\r\n  for (let i = 0; i < cellmap.length; i++) {\r\n    for (let j = 0; j < cellmap[i].length; j++) {\r\n      if (cellmap[i][j].getState() === 1) {\r\n        cells.push([i, j]);\r\n      }\r\n    }\r\n  }\r\n  return cells;\r\n}\r\n","/* eslint-disable */\r\nimport React from 'react';\r\n\r\nexport default ({on, onIcon, offIcon}) => {\r\n  return (\r\n    <React.Fragment >\r\n      {on ? ( onIcon ) : ( offIcon )}\r\n    </React.Fragment>\r\n  );\r\n}  ","/* eslint-disable no-underscore-dangle */\r\n\r\nimport { SheetsRegistry } from 'jss';\r\nimport { createMuiTheme, createGenerateClassName } from '@material-ui/core/styles';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    type: 'light', // Switching the dark mode on is a single property value change.\r\n  },\r\n});\r\n\r\nfunction createPageContext() {\r\n  return {\r\n    theme,\r\n    // This is needed in order to deduplicate the injection of CSS in the page.\r\n    sheetsManager: new Map(),\r\n    // This is needed in order to inject the critical CSS.\r\n    sheetsRegistry: new SheetsRegistry(),\r\n    // The standard class name generator.\r\n    generateClassName: createGenerateClassName(),\r\n  };\r\n}\r\n\r\nexport default function getPageContext() {\r\n  // Make sure to create a new context for every server-side request so that data\r\n  // isn't shared between connections (which would be bad).\r\n  if (!process.browser) {\r\n    return createPageContext();\r\n  }\r\n\r\n  // Reuse context on the client-side.\r\n  if (!global.__INIT_MATERIAL_UI__) {\r\n    global.__INIT_MATERIAL_UI__ = createPageContext();\r\n  }\r\n\r\n  return global.__INIT_MATERIAL_UI__;\r\n}\r\n","/* eslint-disable */\r\nimport color from '../util/colors';\r\n\r\nclass Canvas {\r\n  constructor(canvas, width, height, squareSize, ratio) {\r\n    this.canvas = canvas;\r\n    this.width = width;\r\n    this.height = height;\r\n    this.squareSize = squareSize;\r\n    this.radius = this.squareSize / 2;\r\n    this.ratio = ratio;\r\n    this.canvas.width = ((width + 1) * squareSize) * ratio;\r\n    this.canvas.height = ((height + 1) * squareSize) * ratio;\r\n    console.log(`${this.canvas.width}, ${this.ratio}`)\r\n    const r = this.canvas.height / this.canvas.width;\r\n    this.canvas.style.width = '100%';\r\n    this.canvas.style.height = `${canvas.offsetWidth * r}px`;\r\n    this.context = this.canvas.getContext('2d');\r\n    this.context.scale(ratio, ratio);\r\n  }\r\n\r\n  init() {\r\n    this.drawGrid(this.width, this.height);\r\n    const bufferCanvas = this.copyCanvas(this.canvas);\r\n    const ctx = bufferCanvas.getContext('2d');         \r\n    this.originalCellImage = ctx.getImageData(this.squareSize * this.ratio / 2, this.squareSize * this.ratio / 2, this.squareSize * this.ratio, this.squareSize * this.ratio);\r\n  }\r\n\r\n  handleWindowSizeChange() {\r\n    const r = this.canvas.height / this.canvas.width;\r\n    this.canvas.style.width = \"100%\";\r\n    this.canvas.style.height = this.canvas.offsetWidth * r + \"px\";\r\n  };\r\n\r\n  getClickCoordinates(e) {\r\n    const rect = this.canvas.getBoundingClientRect();\r\n    const cnvLeft = Math.floor(rect.left);\r\n    const cnvRight = Math.floor(rect.right);\r\n    const cnvTop = Math.floor(rect.top);\r\n    const cnvBottom = Math.floor(rect.bottom);\r\n    const currentSquareSize = this.squareSize * this.ratio;\r\n    const r = currentSquareSize / 2 - 1;\r\n    const boardWidth = (this.width + 1) * currentSquareSize;\r\n    const boardHeight = (this.height + 1) * currentSquareSize;\r\n    const x = Math.round((getCursorPos(e)[0] - cnvLeft) / (cnvRight - cnvLeft) * boardWidth);\r\n    const y = Math.round((getCursorPos(e)[1] - cnvTop) / (cnvBottom - cnvTop) * boardHeight);\r\n    if ((x + currentSquareSize / 2) % currentSquareSize !== 0 && (y + currentSquareSize / 2) % currentSquareSize !== 0){\r\n      const nearestX = Math.floor((x + currentSquareSize / 2) / currentSquareSize);\r\n      const nearestY = Math.floor((y + currentSquareSize / 2) / currentSquareSize);\r\n      if(Math.pow(x - nearestX * currentSquareSize, 2) + Math.pow(y - nearestY * currentSquareSize, 2) < Math.pow(r, 2)){\r\n        return {\r\n          X: nearestX - 1, \r\n          Y: nearestY - 1,\r\n        };\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  drawDeadCell(X, Y){\r\n    this.context.putImageData(this.originalCellImage, (X - this.radius) * this.ratio, (Y - this.radius) * this.ratio);\r\n  }\r\n\r\n  drawLiveCell(X, Y){\r\n    this.context.beginPath();\r\n    this.context.arc(X, Y, this.radius - 1, 0, Math.PI * 2, false);\r\n    this.context.fillStyle = color.LIVE_CELL;\r\n    this.context.fill();\r\n    this.context.closePath();\r\n  }\r\n\r\n  drawGrid(width, height){\r\n    const r = this.radius - 1;\r\n    this.context.strokeStyle = color.GRID;\r\n    const w = (width + 1) * this.squareSize;\r\n    const h = (height + 1) * this.squareSize;\r\n    this.context.lineWidth = .2;\r\n    for (let i = this.squareSize; i < h; i += this.squareSize) {\r\n      this.context.beginPath();\r\n      this.context.moveTo(0,i);\r\n      this.context.lineTo(w,i);\r\n      this.context.closePath();\r\n      this.context.stroke();        \r\n    }\r\n    for (let i = this.squareSize; i < w; i += this.squareSize) {\r\n      this.context.beginPath();\r\n      this.context.moveTo(i,0);\r\n      this.context.lineTo(i,h);\r\n      this.context.closePath();\r\n      this.context.stroke();        \r\n    }\r\n    for (let i = this.squareSize; i < h; i += this.squareSize) {\r\n      for (let j = this.squareSize; j < w; j += this.squareSize) {\r\n        this.draw_circle(this.context, j, i, r);\r\n      }\r\n    }\r\n  } \r\n\r\n  copyCanvas(original) {\r\n    const copy = original.cloneNode();  \r\n    copy.getContext('2d').drawImage(original, 0, 0);\r\n    return copy;\r\n  }\r\n\r\n  draw_circle(context, x, y, radius) {\r\n    context.save()\r\n    context.beginPath();\r\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\r\n    context.fillStyle = color.EMPTY_CELL;\r\n    context.fill();\r\n    context.closePath();\r\n    context.restore()\r\n  }\r\n}\r\n\r\nexport default Canvas;\r\n\r\nfunction getCursorPos(e) {\r\n  const x = e.clientX;\r\n  const y = e.clientY;\r\n  return [x, y];\r\n}","const colors = {\r\n  EMPTY_CELL: 'rgba(47,79,79,.2)',\r\n  LIVE_CELL: '#FF0000',\r\n  BUTTON: 'rgba(0, 0, 0, .7)',\r\n  GENERATION: '#FF0000',\r\n  BOARD: 'rgba(47,79,79,1)',\r\n  GRID: '#878789',\r\n  HEADER_LINK_ACTIVE: '#016FB9',\r\n  HEADER_LINK_INACTIVE: '#A9A9A9',\r\n  TITLE_AUTHOR: '#011627',\r\n  TITLE_GAME: '#A2D729',\r\n  FOOTER_TOP: 'rgba(196,196,196,.1)',\r\n  FOOTER_BOTTOM: 'rgba(162,215,41,.5)',\r\n  FOOTER_LINK: 'rgba(1,22,39,.7)',\r\n  FOOTER_LINK_ACTIVE: 'rgba(0, 0, 0, 1)',\r\n  FOOTER_LINK_ICON_ACTIVE: 'white',\r\n};\r\n\r\nexport default colors;\r\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport { waitForRouteChange } from \"./wait-for-route-change\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  waitForRouteChange,\n}\n"],"sourceRoot":""}