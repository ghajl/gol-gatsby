{"version":3,"sources":["webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/game/Game.js","webpack:///./src/withRoot.jsx","webpack:///./src/components/layout.jsx","webpack:///./src/game/Life.js","webpack:///./src/util/helpers.js","webpack:///./src/components/ToggleIcon.jsx","webpack:///./src/getPageContext.js","webpack:///./src/components/Header.jsx","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/Footer.jsx","webpack:///./src/game/Cell.js","webpack:///./src/game/Canvas.js","webpack:///./src/util/colors.js"],"names":["Error","Object","defineProperty","t","enumerable","get","i","default","withPrefix","navigate","push","replace","navigateTo","o","waitForRouteChange","l","u","StaticQuery","StaticQueryContext","_react","_interopRequireDefault","__webpack_require__","_propTypes","_gatsbyLink","_waitForRouteChange","_publicPageRenderer","_parsePath","s","e","__esModule","React","createContext","props","createElement","Consumer","staticQueryData","data","query","render","children","f","propTypes","PropTypes","object","string","isRequired","func","_Life","_Canvas","_helpers","n","length","r","configurable","writable","key","Game","width","height","squareSize","initialState","cells","this","radius","getRandomPattern","life","Life","cellmap","getCellmap","cellCount","value","canvas","reload","drawBoard","ratio","Canvas","init","redrawList","nextGeneration","redrawWorld","coordinates","getClickCoordinates","drawCell","Y","X","index","patternsList","pattern","shiftPatternToCenter","setPattern","handleWindowSizeChange","getLiveCells","clearWorld","_this","forEach","cell","getState","drawDeadCell","drawLiveCell","_styles","_CssBaseline","_JssProvider","_getPageContext","Symbol","iterator","constructor","prototype","c","ReferenceError","h","setPrototypeOf","getPrototypeOf","__proto__","d","Component","_React$Component","WithRoot","TypeError","_possibleConstructorReturn","_getPrototypeOf","call","muiPageContext","create","jssStyles","document","querySelector","parentNode","removeChild","generateClassName","MuiThemeProvider","theme","sheetsManager","173","_reactHelmet","_Header","_Footer","p","v","Layout","charset","http-equiv","content","name","rel","type","href","a","PureComponent","_this$props","classes","className","root","title","meta","link","links","lang","navbar","shape","node","defaultProps","withStyles","@global","html","fontSize","minHeight","body","background","fontFamily","fallbacks","margin","display","flex-direction","& > div:first-child","flex","& > div","&:first-child","textDecoration","outline","flexDirection","overflow","boxShadow","position","top","zIndex","backgroundColor","_Cell","Array","isArray","next","done","return","nextState","-1","1","makeNeighbors","j","tX","tY","concat","keys","createCellmap","makeNeighborsCoordinates","fill","Cell","neighborsCoordinates","setNeighborsCoordinates","setNeighbors","map","_coordinates$split$ma2","_slicedToArray","split","k","y","x","totalCheck","changeList","state","neighborsCount","getNeighborsCount","applyChanges","checkList","_cell","changeState","getNeighborsCoordinates","neighbor","makeChangeList","re","exec","lastIndex","gridWidth","gridHeight","liveCells","filter","indexOf","boardHeight","boardWidth","patternSize","reduce","acc","val","ind","minX","maxX","minY","maxY","center","Math","floor","trans","vertShift","horShift","len","min","max","random","arr","from","toString","Set","crd","ToggleIcon","_ref","on","onIcon","offIcon","Fragment","bool","process","browser","global","__INIT_MATERIAL_UI__","createPageContext","_jss","createMuiTheme","palette","Map","sheetsRegistry","SheetsRegistry","createGenerateClassName","_gatsby","_colors","styles","nav","justifyContent","& a","color","HEADER_LINK_INACTIVE","padding","transition","fontWeight","text-transform","@media (min-width: 768px)","@media (min-width: 480px)","author","TITLE_AUTHOR","game","TITLE_GAME","alignItems","paddingRight","&:hover","HEADER_LINK_ACTIVE","small","large","active","Header","Link","to","activeStyle","m","module","exports","_pageRenderer","_loader","ProdPageRenderer","location","pageResources","loader","getResourcesForPathname","pathname","InternalPageRenderer","borderBottom","FOOTER_BOTTOM","FOOTER_TOP","iconsContainer","left","transform","iconContainer","textAlign","& *","boxSizing","icon","borderRadius","border","borderColor","FOOTER_LINK","FOOTER_LINK_ICON_ACTIVE","FOOTER_LINK_ACTIVE","Footer","target","count","neighbors","updateNeighborsCount","getCursorPos","clientX","clientY","style","offsetWidth","context","getContext","scale","drawGrid","original","copy","ctx","cloneNode","drawImage","originalCellImage","getImageData","rect","getBoundingClientRect","cnvLeft","cnvRight","right","cnvTop","cnvBottom","bottom","currentSquareSize","round","nearestX","nearestY","pow","putImageData","beginPath","arc","PI","fillStyle","LIVE_CELL","closePath","strokeStyle","GRID","w","lineWidth","moveTo","lineTo","stroke","save","EMPTY_CELL","restore","BUTTON","GENERATION","BOARD"],"mappings":"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","file":"1-0c4b9a70bafe0bac0df0.js","sourcesContent":["import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport { waitForRouteChange } from \"./wait-for-route-change\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  waitForRouteChange,\n}\n","import Life from './Life';\r\nimport Canvas from './Canvas';\r\nimport { shiftPatternToCenter, getRandomPattern } from '../util/helpers';\r\n\r\nclass Game {\r\n  constructor(width, height, squareSize, initialState) {\r\n    this.width = width;\r\n    this.height = height;\r\n    this.squareSize = squareSize;\r\n    this.radius = this.squareSize / 2;\r\n    let cells;\r\n    if (initialState != null) {\r\n      cells = initialState;\r\n    } else {\r\n      cells = getRandomPattern(height, width);\r\n    }\r\n    this.life = new Life(this.width, this.height, cells);\r\n    this.cellmap = this.life.getCellmap();\r\n    this.cellCount = 0;\r\n  }\r\n\r\n  reload(width, height, squareSize, canvas) {\r\n    this.width = width;\r\n    this.height = height;\r\n    this.cellCount = 0;\r\n    this.squareSize = squareSize;\r\n    this.radius = this.squareSize / 2;\r\n    this.life.reload(width, height);\r\n    this.cellmap = this.life.getCellmap();\r\n    this.drawBoard(canvas);\r\n  }\r\n\r\n  drawBoard(canvas, ratio) {\r\n    if (ratio != null) {\r\n      this.ratio = ratio;\r\n    }\r\n    this.canvas = new Canvas(canvas, this.width, this.height, this.squareSize, this.ratio);\r\n    this.canvas.init();\r\n    const redrawList = this.life.nextGeneration();\r\n    this.redrawWorld(redrawList);\r\n    return this.cellCount;\r\n  }\r\n\r\n  drawCell(e) {\r\n    const coordinates = this.canvas.getClickCoordinates(e);\r\n    if (coordinates !== null) {\r\n      const redrawList = this.life.drawCell(coordinates.Y, coordinates.X);\r\n      this.redrawWorld(redrawList);\r\n    }\r\n    return this.cellCount;\r\n  }\r\n\r\n  setPattern(index, patternsList) {\r\n    let pattern;\r\n    if (patternsList[index].pattern) {\r\n      pattern = shiftPatternToCenter(patternsList[index].pattern, this.height, this.width);\r\n    } else {\r\n      pattern = getRandomPattern(this.height, this.width);\r\n    }\r\n    const redrawList = this.life.setPattern(pattern);\r\n    this.redrawWorld(redrawList);\r\n    return this.cellCount;\r\n  }\r\n\r\n  handleWindowSizeChange() {\r\n    this.canvas.handleWindowSizeChange();\r\n  }\r\n\r\n  getLiveCells() {\r\n    return this.life.getLiveCells();\r\n  }\r\n\r\n  getCellCount() {\r\n    return this.cellCount;\r\n  }\r\n\r\n  clear() {\r\n    const redrawList = this.life.clearWorld();\r\n    this.redrawWorld(redrawList);\r\n    return this.cellCount;\r\n  }\r\n\r\n  update() {\r\n    const redrawList = this.life.nextGeneration();\r\n    this.redrawWorld(redrawList);\r\n    return this.cellCount;\r\n  }\r\n\r\n  redrawWorld(redrawList) {\r\n    redrawList.forEach((cell) => {\r\n      const X = (cell[1] + 1) * this.squareSize;\r\n      const Y = (cell[0] + 1) * this.squareSize;\r\n      if (this.cellmap[cell[0]][cell[1]].getState() === -1) {\r\n        this.cellCount -= 1;\r\n        this.canvas.drawDeadCell(X, Y);\r\n      } else {\r\n        this.cellCount += 1;\r\n        this.canvas.drawLiveCell(X, Y);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport default Game;\r\n","import React from 'react';\r\nimport { MuiThemeProvider } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport JssProvider from 'react-jss/lib/JssProvider';\r\nimport getPageContext from './getPageContext';\r\n\r\nfunction withRoot(Component) {\r\n  class WithRoot extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.muiPageContext = getPageContext();\r\n    }\r\n\r\n    componentDidMount() {\r\n      // Remove the server-side injected CSS.\r\n      const jssStyles = document.querySelector('#server-side-jss');\r\n      if (jssStyles && jssStyles.parentNode) {\r\n        jssStyles.parentNode.removeChild(jssStyles);\r\n      }\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <JssProvider generateClassName={this.muiPageContext.generateClassName}>\r\n          {/* MuiThemeProvider makes the theme available down the React\r\n              tree thanks to React context. */}\r\n          <MuiThemeProvider\r\n            theme={this.muiPageContext.theme}\r\n            sheetsManager={this.muiPageContext.sheetsManager}\r\n          >\r\n            {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\r\n            <CssBaseline />\r\n            <Component {...this.props} />\r\n          </MuiThemeProvider>\r\n        </JssProvider>\r\n      );\r\n    }\r\n  }\r\n\r\n  return WithRoot;\r\n}\r\n\r\nexport default withRoot;\r\n","import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Helmet from 'react-helmet';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\n\r\nconst styles = {\r\n  '@global': {\r\n    html: {\r\n      height: '100%',\r\n      fontSize: '14px',\r\n      minHeight: '100vh',\r\n    },\r\n    body: {\r\n      background: 'white',\r\n      fontFamily: 'Century Gothic',\r\n      fallbacks: {\r\n        fontFamily: 'sans-serif',\r\n      },\r\n      margin: 0,\r\n      display: 'flex',\r\n      'flex-direction': 'column',\r\n      height: '100%',\r\n      '& > div:first-child': {\r\n        height: '100%',\r\n        flex: '1 0 auto',\r\n        '& > div': {\r\n          '&:first-child': {\r\n            height: '100%',\r\n          },\r\n        },\r\n      },\r\n    },\r\n    a: {\r\n      textDecoration: 'none !important',\r\n      outline: 'none',\r\n    },\r\n  },\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    height: '100%',\r\n  },\r\n  content: {\r\n    flex: '1 0 auto',\r\n    width: '100%',\r\n  },\r\n  navbar: {\r\n    overflow: 'hidden',\r\n    boxShadow: '0 3px 15px -6px #222',\r\n    position: 'fixed',\r\n    top: 0,\r\n    width: '100%',\r\n    zIndex: 3,\r\n    backgroundColor: '#fff',\r\n  },\r\n};\r\n\r\nclass Layout extends PureComponent {\r\n  meta = [\r\n    {\r\n      charset: 'utf-8',\r\n    },\r\n    {\r\n      'http-equiv': 'X-UA-Compatible',\r\n      content: 'IE=edge',\r\n    },\r\n    {\r\n      name: 'viewport',\r\n      content: 'user-scalable=0, initial-scale=1, minimum-scale=1, width=device-width, height=device-height',\r\n    },\r\n  ];\r\n\r\n  links = [\r\n    {\r\n      rel: 'shortcut icon',\r\n      type: 'image/x-icon',\r\n      href: '/public/icons/favicon.ico',\r\n    },\r\n    {\r\n      rel: 'stylesheet',\r\n      href: 'https://fonts.googleapis.com/css?family=Roboto:300,400,500|Open+Sans|Julius+Sans+One',\r\n    },\r\n  ];\r\n\r\n  title = 'John Conway\\'s Game Of Life';\r\n\r\n  render() {\r\n    const { classes, children } = this.props;\r\n    return (\r\n      <div className={classes.root}>\r\n        <Helmet\r\n          title={this.title}\r\n          meta={this.meta}\r\n          link={this.links}\r\n        >\r\n          <html lang=\"en\" />\r\n        </Helmet>\r\n        <div className={classes.navbar}>\r\n          <Header />\r\n        </div>\r\n        <div className={classes.content}>\r\n          {children}\r\n        </div>\r\n\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nLayout.propTypes = {\r\n  classes: PropTypes.shape({}),\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nLayout.defaultProps = {\r\n  classes: {},\r\n};\r\n\r\nexport default withStyles(styles)(Layout);\r\n","import Cell from './Cell';\r\n\r\nconst nextState = {\r\n  '-1': [-1, -1, -1, 1, -1, -1, -1, -1, -1],\r\n  1: [-1, -1, 1, 1, -1, -1, -1, -1, -1],\r\n};\r\n\r\nexport function makeNeighbors(width, height, Y, X) {\r\n  const cells = {};\r\n  for (let i = -1; i < 2; i++) {\r\n    for (let j = -1; j < 2; j++) {\r\n      let tX = X + j;\r\n      let tY = Y + i;\r\n      if (tY < 0) {\r\n        tY = height - 1;\r\n      } else if (tY >= height) {\r\n        tY = 0;\r\n      }\r\n      if (tX < 0) {\r\n        tX = width - 1;\r\n      } else if (tX >= width) {\r\n        tX = 0;\r\n      }\r\n      if (!(i === 0 && j === 0)) {\r\n        cells[`${tY},${tX}`] = 1;\r\n      }\r\n    }\r\n  }\r\n  return Object.keys(cells);\r\n}\r\n\r\nexport function createCellmap(width, height, makeNeighborsCoordinates) {\r\n  const cellmap = Array(height).fill(null);\r\n  for (let i = 0; i < height; i++) {\r\n    cellmap[i] = Array(width).fill(null);\r\n    for (let j = 0; j < width; j++) {\r\n      cellmap[i][j] = new Cell();\r\n    }\r\n  }\r\n  for (let i = 0; i < height; i++) {\r\n    for (let j = 0; j < width; j++) {\r\n      const neighborsCoordinates = makeNeighborsCoordinates(width, height, i, j);\r\n      cellmap[i][j].setNeighborsCoordinates(neighborsCoordinates);\r\n      cellmap[i][j].setNeighbors(neighborsCoordinates.map((coordinates) => {\r\n        const [y, x] = coordinates.split(',').map(k => +k);\r\n        return cellmap[y][x];\r\n      }));\r\n    }\r\n  }\r\n  return cellmap;\r\n}\r\n\r\nexport function getLiveCells(cellmap) {\r\n  const cells = [];\r\n  for (let i = 0; i < cellmap.length; i++) {\r\n    for (let j = 0; j < cellmap[i].length; j++) {\r\n      if (cellmap[i][j].getState() === 1) {\r\n        cells.push([i, j]);\r\n      }\r\n    }\r\n  }\r\n  return cells;\r\n}\r\n\r\nexport function totalCheck(cellmap) {\r\n  const changeList = [];\r\n  for (let i = 0; i < cellmap.length; i++) {\r\n    for (let j = 0; j < cellmap[i].length; j++) {\r\n      const state = cellmap[i][j].getState();\r\n      const neighborsCount = cellmap[i][j].getNeighborsCount();\r\n      if (nextState[state][neighborsCount] !== state) {\r\n        changeList.push([i, j]);\r\n      }\r\n    }\r\n  }\r\n  return changeList;\r\n}\r\n\r\nexport function applyChanges(changeList, cellmap) {\r\n  const checkList = {};\r\n  changeList.forEach((cell) => {\r\n    const [y, x] = cell;\r\n    cellmap[y][x].changeState();\r\n    if (typeof checkList[`${y},${x}`] === 'undefined') {\r\n      checkList[`${y},${x}`] = 1;\r\n    }\r\n    const neighbors = cellmap[y][x].getNeighborsCoordinates();\r\n    neighbors.forEach((neighbor) => {\r\n      if (typeof checkList[neighbor] === 'undefined') {\r\n        checkList[neighbor] = 1;\r\n      }\r\n    });\r\n  });\r\n  return Object.keys(checkList);\r\n}\r\n\r\nexport function makeChangeList(checkList, cellmap) {\r\n  const changeList = [];\r\n  const re = /\\d+/g;\r\n  checkList.forEach((cell) => {\r\n    const y = +re.exec(cell)[0];\r\n    const x = +re.exec(cell)[0];\r\n    re.lastIndex = 0;\r\n    const state = cellmap[y][x].getState();\r\n    const neighborsCount = cellmap[y][x].getNeighborsCount();\r\n    if (nextState[state][neighborsCount] !== state) {\r\n      changeList.push([y, x]);\r\n    }\r\n  });\r\n  return changeList;\r\n}\r\n\r\nclass Life {\r\n  constructor(width, height, initialState) {\r\n    this.gridWidth = width;\r\n    this.gridHeight = height;\r\n    this.changeList = initialState;\r\n    this.cellmap = createCellmap(this.gridWidth, this.gridHeight, makeNeighbors);\r\n  }\r\n\r\n  reload(width, height) {\r\n    this.changeList = [];\r\n    this.gridWidth = width;\r\n    this.gridHeight = height;\r\n    this.cellmap = createCellmap(this.gridWidth, this.gridHeight, makeNeighbors);\r\n  }\r\n\r\n  setPattern(pattern) {\r\n    const liveCells = getLiveCells(this.cellmap);\r\n    if (liveCells.length === 0) {\r\n      this.changeList = pattern;\r\n    } else {\r\n      this.changeList = liveCells.filter(cell => pattern.indexOf(cell) === -1)\r\n        .concat(pattern.filter(cell => liveCells.indexOf(cell) === -1));\r\n    }\r\n    return this.nextGeneration();\r\n  }\r\n\r\n  drawCell(y, x) {\r\n    this.cellmap[y][x].changeState();\r\n    this.changeList = totalCheck(this.cellmap);\r\n    return [[y, x]];\r\n  }\r\n\r\n  clearWorld() {\r\n    this.changeList = getLiveCells(this.cellmap);\r\n    return this.nextGeneration();\r\n  }\r\n\r\n  nextGeneration() {\r\n    const redrawList = this.changeList;\r\n    const checkList = applyChanges(this.changeList, this.cellmap, this.gridWidth, this.gridHeight);\r\n    this.changeList = makeChangeList(checkList, this.cellmap);\r\n    return redrawList;\r\n  }\r\n\r\n  getLiveCells() {\r\n    return getLiveCells(this.cellmap);\r\n  }\r\n\r\n  getCellmap() {\r\n    return this.cellmap;\r\n  }\r\n}\r\n\r\nexport default Life;\r\n","/* eslint-disable */\r\nexport function shiftPatternToCenter(pattern,boardHeight,boardWidth){\r\n  const patternSize = getPatternSize(pattern)\r\n  const center = [Math.floor((boardHeight - 1) / 2), Math.floor((boardWidth - 1) / 2)]\r\n  const trans = [Math.floor((patternSize.maxY - patternSize.minY) / 2), Math.floor((patternSize.maxX - patternSize.minX) / 2)]\r\n  const result = pattern.map(cell => {\r\n    const y = cell[0] + center[0] - trans[0]\r\n    const x = cell[1] + center[1] - trans[1]\r\n    return [y,x];\r\n  });\r\n\r\n  return result;\r\n}\r\n\r\nexport function shiftPattern(pattern,vertShift,horShift){\r\n  return pattern.map(cell => {\r\n    const y = cell[0] + vertShift;\r\n    const x = cell[1] + horShift;\r\n    return [y,x];\r\n  });\r\n}\r\n\r\nexport function getRandomPattern(height,width){\r\n  const min = Math.floor(Math.max(2, height*width*.05));\r\n  const max = Math.floor(Math.max(2, height*width*.2));\r\n  const len = getRandomInt(min, max);\r\n  const arr =  Array.from({length: len}, () => `${Math.floor(Math.random() * height)},${Math.floor(Math.random() * width)}`);\r\n  return [...new Set(arr)].map(crd => crd.split(',').map(k => +k));\r\n}\r\n\r\nfunction getRandomInt(min, max) {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nfunction getPatternSize(pattern){\r\n  return pattern.reduce((acc, val, ind) => {\r\n    if(ind === 0){\r\n      acc.minX = acc.maxX = val[1]\r\n      acc.minY = acc.maxY = val[0]\r\n    } else {\r\n      acc.minX = val[1] < acc.minX ? val[1] : acc.minX\r\n      acc.maxX = val[1] > acc.maxX ? val[1] : acc.maxX\r\n      acc.minY = val[0] < acc.minY ? val[0] : acc.minY\r\n      acc.maxY = val[0] > acc.maxY ? val[0] : acc.maxY\r\n    }\r\n    return acc\r\n  }, {})\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ToggleIcon = ({ on, onIcon, offIcon }) => (\r\n  <React.Fragment>\r\n    {on ? onIcon : offIcon }\r\n  </React.Fragment>\r\n);\r\n\r\nToggleIcon.propTypes = {\r\n  on: PropTypes.bool.isRequired,\r\n  onIcon: PropTypes.shape({}).isRequired,\r\n  offIcon: PropTypes.shape({}).isRequired,\r\n};\r\n\r\nexport default ToggleIcon;\r\n","/* eslint-disable no-underscore-dangle */\r\n\r\nimport { SheetsRegistry } from 'jss';\r\nimport { createMuiTheme, createGenerateClassName } from '@material-ui/core/styles';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    type: 'light', // Switching the dark mode on is a single property value change.\r\n  },\r\n});\r\n\r\nfunction createPageContext() {\r\n  return {\r\n    theme,\r\n    // This is needed in order to deduplicate the injection of CSS in the page.\r\n    sheetsManager: new Map(),\r\n    // This is needed in order to inject the critical CSS.\r\n    sheetsRegistry: new SheetsRegistry(),\r\n    // The standard class name generator.\r\n    generateClassName: createGenerateClassName(),\r\n  };\r\n}\r\n\r\nexport default function getPageContext() {\r\n  // Make sure to create a new context for every server-side request so that data\r\n  // isn't shared between connections (which would be bad).\r\n  if (!process.browser) {\r\n    return createPageContext();\r\n  }\r\n\r\n  // Reuse context on the client-side.\r\n  if (!global.__INIT_MATERIAL_UI__) {\r\n    global.__INIT_MATERIAL_UI__ = createPageContext();\r\n  }\r\n\r\n  return global.__INIT_MATERIAL_UI__;\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'gatsby';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport color from '../util/colors';\r\n\r\nconst styles = {\r\n  nav: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    '& a': {\r\n      color: color.HEADER_LINK_INACTIVE,\r\n      display: 'block',\r\n      padding: '1em',\r\n      transition: '.2s',\r\n      fontFamily: 'Julius Sans One',\r\n      fallbacks: {\r\n        fontFamily: 'sans-serif',\r\n      },\r\n    },\r\n  },\r\n  title: {\r\n    fontWeight: 900,\r\n    'text-transform': 'none',\r\n    fontSize: '1.1em',\r\n    '@media (min-width: 768px)': {\r\n      fontSize: '1.5em',\r\n    },\r\n    '@media (min-width: 480px)': {\r\n      'text-transform': 'uppercase',\r\n    },\r\n  },\r\n  author: {\r\n    color: color.TITLE_AUTHOR,\r\n  },\r\n  game: {\r\n    color: color.TITLE_GAME,\r\n  },\r\n  links: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingRight: '20px',\r\n    fontWeight: 900,\r\n    '& a': {\r\n      '&:hover': {\r\n        color: color.HEADER_LINK_ACTIVE,\r\n      },\r\n    },\r\n    fontSize: '.9em',\r\n    '@media (min-width: 768px)': {\r\n      fontSize: '1.2em',\r\n    },\r\n  },\r\n  small: {\r\n    display: 'block',\r\n    '@media (min-width: 480px)': {\r\n      display: 'none',\r\n    },\r\n  },\r\n  large: {\r\n    display: 'none',\r\n    '@media (min-width: 480px)': {\r\n      display: 'block',\r\n    },\r\n  },\r\n  active: {\r\n    color: color.HEADER_LINK_ACTIVE,\r\n  },\r\n};\r\n\r\nconst Header = (props) => {\r\n  const { classes } = props;\r\n\r\n  return (\r\n    <div className={classes.nav}>\r\n      <Link\r\n        className={classes.title}\r\n        to=\"/\"\r\n        activeStyle={{\r\n          color: color.HEADER_LINK_ACTIVE,\r\n        }}\r\n      >\r\n        <div className={classes.small}>\r\n          <span className={classes.game}>\r\n            {'GoL'}\r\n          </span>\r\n        </div>\r\n        <div className={classes.large}>\r\n          <span className={classes.author}>\r\n            {'John Conway`s'}\r\n          </span>\r\n          <span className={classes.game}>\r\n            {'Game of Life'}\r\n          </span>\r\n        </div>\r\n      </Link>\r\n      <div className={classes.links}>\r\n        <Link\r\n          to=\"/about\"\r\n          activeStyle={{\r\n            color: color.HEADER_LINK_ACTIVE,\r\n          }}\r\n        >\r\n          {'About'}\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles)(Header);\r\n\r\nHeader.propTypes = {\r\n  classes: PropTypes.shape({}).isRequired,\r\n};\r\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathname(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport color from '../util/colors';\r\n\r\nconst styles = {\r\n  root: {\r\n    borderBottom: `10px solid ${color.FOOTER_BOTTOM}`,\r\n    backgroundColor: color.FOOTER_TOP,\r\n  },\r\n  iconsContainer: {\r\n    position: 'relative',\r\n    display: 'inline-block',\r\n    left: '50%',\r\n    transform: 'translateX(-50%)',\r\n  },\r\n  iconContainer: {\r\n    display: 'inline-block',\r\n    textAlign: 'center',\r\n    padding: '3px 20px',\r\n    '& *': {\r\n      boxSizing: 'content-box',\r\n    },\r\n  },\r\n  a: {\r\n    margin: '0 20px',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  icon: {\r\n    transition: '.4s',\r\n    borderRadius: '50%',\r\n    border: '1px solid',\r\n    borderColor: color.FOOTER_LINK,\r\n    padding: 5,\r\n    margin: '.5em',\r\n    width: 24,\r\n    height: 24,\r\n    fill: color.FOOTER_LINK,\r\n    '&:hover': {\r\n      fill: color.FOOTER_LINK_ICON_ACTIVE,\r\n      backgroundColor: color.FOOTER_LINK_ACTIVE,\r\n      borderColor: color.FOOTER_LINK_ACTIVE,\r\n    },\r\n  },\r\n};\r\n\r\nconst Footer = ({ classes }) => (\r\n  <div className={classes.root}>\r\n    <div className={classes.iconsContainer}>\r\n      <div className={classes.iconContainer}>\r\n        <a className={classes.a} href=\"https://github.com/ghajl/gol-gatsby\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n          <svg className={classes.icon}>\r\n            <path d=\"M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z\" />\r\n          </svg>\r\n        </a>\r\n      </div>\r\n      <div className={classes.iconContainer}>\r\n        <a className={classes.a} href=\"mailto:michaelmsky@gmail.com?subject=Mail from GOL\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n          <svg className={classes.icon}>\r\n            <path d=\"M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z\" />\r\n          </svg>\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nFooter.propTypes = {\r\n  classes: PropTypes.shape({}).isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Footer);\r\n","export default class Cell {\r\n  constructor() {\r\n    this.state = -1;\r\n    this.count = 0;\r\n    this.neighbors = null;\r\n    this.neighborsCoordinates = null;\r\n  }\r\n\r\n  changeState() {\r\n    this.state *= -1;\r\n    this.neighbors.forEach((neighbor) => {\r\n      neighbor.updateNeighborsCount(this.state);\r\n    });\r\n  }\r\n\r\n  updateNeighborsCount(value) {\r\n    this.count += value;\r\n  }\r\n\r\n  getState() {\r\n    return this.state;\r\n  }\r\n\r\n  setNeighbors(neighbors) {\r\n    this.neighbors = neighbors;\r\n  }\r\n\r\n  setNeighborsCoordinates(coordinates) {\r\n    this.neighborsCoordinates = coordinates;\r\n  }\r\n\r\n  getNeighborsCount() {\r\n    return this.count;\r\n  }\r\n\r\n  getNeighborsCoordinates() {\r\n    return this.neighborsCoordinates;\r\n  }\r\n}\r\n","import color from '../util/colors';\r\n\r\nconst getCursorPos = (e) => {\r\n  const x = e.clientX;\r\n  const y = e.clientY;\r\n  return [x, y];\r\n};\r\n\r\nconst copyCanvas = (original) => {\r\n  const copy = original.cloneNode();\r\n  copy.getContext('2d').drawImage(original, 0, 0);\r\n  return copy;\r\n};\r\n\r\nconst drawCircle = (context, x, y, radius) => {\r\n  context.save();\r\n  context.beginPath();\r\n  context.arc(x, y, radius, 0, Math.PI * 2, false);\r\n  context.fillStyle = color.EMPTY_CELL;\r\n  context.fill();\r\n  context.closePath();\r\n  context.restore();\r\n};\r\n\r\nclass Canvas {\r\n  constructor(canvas, width, height, squareSize, ratio) {\r\n    this.canvas = canvas;\r\n    this.width = width;\r\n    this.height = height;\r\n    this.squareSize = squareSize;\r\n    this.radius = this.squareSize / 2;\r\n    this.ratio = ratio;\r\n    this.canvas.width = ((width + 1) * squareSize) * ratio;\r\n    this.canvas.height = ((height + 1) * squareSize) * ratio;\r\n    const r = this.canvas.height / this.canvas.width;\r\n    this.canvas.style.width = '100%';\r\n    this.canvas.style.height = `${canvas.offsetWidth * r}px`;\r\n    this.context = this.canvas.getContext('2d');\r\n    this.context.scale(ratio, ratio);\r\n  }\r\n\r\n  init() {\r\n    this.drawGrid(this.width, this.height);\r\n    const bufferCanvas = copyCanvas(this.canvas);\r\n    const ctx = bufferCanvas.getContext('2d');\r\n    this.originalCellImage = ctx.getImageData(\r\n      this.squareSize * this.ratio / 2,\r\n      this.squareSize * this.ratio / 2,\r\n      this.squareSize * this.ratio,\r\n      this.squareSize * this.ratio,\r\n    );\r\n  }\r\n\r\n  handleWindowSizeChange() {\r\n    const r = this.canvas.height / this.canvas.width;\r\n    this.canvas.style.width = '100%';\r\n    this.canvas.style.height = `${this.canvas.offsetWidth * r}px`;\r\n  }\r\n\r\n  getClickCoordinates(e) {\r\n    const rect = this.canvas.getBoundingClientRect();\r\n    const cnvLeft = Math.floor(rect.left);\r\n    const cnvRight = Math.floor(rect.right);\r\n    const cnvTop = Math.floor(rect.top);\r\n    const cnvBottom = Math.floor(rect.bottom);\r\n    const currentSquareSize = this.squareSize * this.ratio;\r\n    const r = currentSquareSize / 2 - 1;\r\n    const boardWidth = (this.width + 1) * currentSquareSize;\r\n    const boardHeight = (this.height + 1) * currentSquareSize;\r\n    const x = Math.round((getCursorPos(e)[0] - cnvLeft) / (cnvRight - cnvLeft) * boardWidth);\r\n    const y = Math.round((getCursorPos(e)[1] - cnvTop) / (cnvBottom - cnvTop) * boardHeight);\r\n    if ((x + currentSquareSize / 2) % currentSquareSize !== 0\r\n      && (y + currentSquareSize / 2) % currentSquareSize !== 0) {\r\n      const nearestX = Math.floor((x + currentSquareSize / 2) / currentSquareSize);\r\n      const nearestY = Math.floor((y + currentSquareSize / 2) / currentSquareSize);\r\n      if (((x - nearestX * currentSquareSize) ** 2) + ((y - nearestY * currentSquareSize) ** 2)\r\n        < r ** 2) {\r\n        return {\r\n          X: nearestX - 1,\r\n          Y: nearestY - 1,\r\n        };\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  drawDeadCell(X, Y) {\r\n    this.context.putImageData(\r\n      this.originalCellImage,\r\n      (X - this.radius) * this.ratio,\r\n      (Y - this.radius) * this.ratio,\r\n    );\r\n  }\r\n\r\n  drawLiveCell(X, Y) {\r\n    this.context.beginPath();\r\n    this.context.arc(X, Y, this.radius - 1, 0, Math.PI * 2, false);\r\n    this.context.fillStyle = color.LIVE_CELL;\r\n    this.context.fill();\r\n    this.context.closePath();\r\n  }\r\n\r\n  drawGrid(width, height) {\r\n    const r = this.radius - 1;\r\n    this.context.strokeStyle = color.GRID;\r\n    const w = (width + 1) * this.squareSize;\r\n    const h = (height + 1) * this.squareSize;\r\n    this.context.lineWidth = 0.2;\r\n    for (let i = this.squareSize; i < h; i += this.squareSize) {\r\n      this.context.beginPath();\r\n      this.context.moveTo(0, i);\r\n      this.context.lineTo(w, i);\r\n      this.context.closePath();\r\n      this.context.stroke();\r\n    }\r\n    for (let i = this.squareSize; i < w; i += this.squareSize) {\r\n      this.context.beginPath();\r\n      this.context.moveTo(i, 0);\r\n      this.context.lineTo(i, h);\r\n      this.context.closePath();\r\n      this.context.stroke();\r\n    }\r\n    for (let i = this.squareSize; i < h; i += this.squareSize) {\r\n      for (let j = this.squareSize; j < w; j += this.squareSize) {\r\n        drawCircle(this.context, j, i, r);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default Canvas;\r\n","const colors = {\r\n  EMPTY_CELL: 'rgba(47,79,79,.2)',\r\n  LIVE_CELL: '#FF0000',\r\n  BUTTON: 'rgba(0, 0, 0, .7)',\r\n  GENERATION: '#FF0000',\r\n  BOARD: 'rgba(47,79,79,1)',\r\n  GRID: '#878789',\r\n  HEADER_LINK_ACTIVE: '#016FB9',\r\n  HEADER_LINK_INACTIVE: '#A9A9A9',\r\n  TITLE_AUTHOR: '#011627',\r\n  TITLE_GAME: '#A2D729',\r\n  FOOTER_TOP: 'rgba(196,196,196,.1)',\r\n  FOOTER_BOTTOM: 'rgba(162,215,41,.5)',\r\n  FOOTER_LINK: 'rgba(1,22,39,.7)',\r\n  FOOTER_LINK_ACTIVE: 'rgba(0, 0, 0, 1)',\r\n  FOOTER_LINK_ICON_ACTIVE: 'white',\r\n};\r\n\r\nexport default colors;\r\n"],"sourceRoot":""}